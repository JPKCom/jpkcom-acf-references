/**
 * JPKCom ACF References - Frontend Styles
 *
 * @package   JPKCom_ACF_References
 * @since     1.0.0
 */

/**
 * Image Overlay Cards - Zoom Effect on Hover
 * Only applies for users without prefers-reduced-motion
 */
@media (prefers-reduced-motion: no-preference) {
    /* Card image container with overflow hidden */
    .jpkcom-acf-ref-items .card-img {
        transition: transform 0.4s ease-in-out;
        will-change: transform;
    }

    /* Zoom effect on card hover */
    .jpkcom-acf-ref-items .card:hover .card-img {
        transform: scale(1.08);
    }

    /* Ensure card overflow is hidden to contain zoomed image */
    .jpkcom-acf-ref-items .card {
        overflow: hidden;
    }

    /* Smooth transition for overlay content */
    .jpkcom-acf-ref-items .card-img-overlay {
        transition: background-color 0.3s ease-in-out;
    }

    /* Optional: Darken overlay slightly on hover for better text contrast */
    .jpkcom-acf-ref-items .card:hover .card-img-overlay .bg-dark {
        background-color: rgba(0, 0, 0, 0.85) !important;
    }
}

/**
 * For users with prefers-reduced-motion: reduce
 * No animations or transitions
 */
@media (prefers-reduced-motion: reduce) {
    .jpkcom-acf-ref-items .card-img,
    .jpkcom-acf-ref-items .card-img-overlay,
    .jpkcom-acf-gallery-thumb {
        transition: none;
    }
}

/**
 * Gallery Thumbnail Hover Effects
 * Only applies for users without prefers-reduced-motion
 */
@media (prefers-reduced-motion: no-preference) {
    /* Gallery thumbnail button container */
    .jpkcom-acf-gallery-thumb-btn {
        overflow: hidden;
        display: block;
        border-radius: 0.375rem;
    }

    /* Gallery thumbnail image with zoom effect */
    .jpkcom-acf-gallery-thumb {
        transition: transform 0.3s ease-in-out;
        will-change: transform;
    }

    /* Zoom effect on thumbnail hover */
    .jpkcom-acf-gallery-thumb-btn:hover .jpkcom-acf-gallery-thumb,
    .jpkcom-acf-gallery-thumb-btn:focus .jpkcom-acf-gallery-thumb {
        transform: scale(1.1);
    }

    /* Focus state for accessibility */
    .jpkcom-acf-gallery-thumb-btn:focus {
        outline: 2px solid #0d6efd;
        outline-offset: 2px;
    }
}

/**
 * Gallery Thumbnail Base Styles
 */
.jpkcom-acf-gallery-thumb-btn {
    cursor: pointer;
    aspect-ratio: 1 / 1;
}

.jpkcom-acf-gallery-thumb {
    display: block;
    width: 100%;
    height: 100%;
}

/**
 * Reference List Filter Animations
 * Smooth fade-in/fade-out with subtle movement when filtering
 */

/* Base state for all reference items */
.jpkcom-acf-ref-item {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* Animation only for users without prefers-reduced-motion */
@media (prefers-reduced-motion: no-preference) {
    .jpkcom-acf-ref-item {
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        will-change: opacity, transform;
    }

    /* State when item is being hidden (fading out) */
    .jpkcom-acf-ref-item.is-hiding {
        opacity: 0;
        transform: translateY(-8px) scale(0.98);
    }

    /* State when item is being shown (fading in) */
    .jpkcom-acf-ref-item.is-showing {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    /* Hidden state (after animation completes) */
    .jpkcom-acf-ref-item.is-hidden {
        display: none;
        opacity: 0;
    }
}

/* For users with prefers-reduced-motion: reduce */
/* Instant show/hide without animations */
@media (prefers-reduced-motion: reduce) {
    .jpkcom-acf-ref-item {
        transition: none;
    }

    /* Immediately hide without animation */
    .jpkcom-acf-ref-item.is-hiding,
    .jpkcom-acf-ref-item.is-hidden {
        display: none;
    }

    /* Immediately show without animation */
    .jpkcom-acf-ref-item.is-showing {
        display: block;
    }
}
